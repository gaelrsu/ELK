Setting up SSL for elasticsearch


Create the file /usr/share/elasticsearch/instances.yml 

nano /usr/share/elasticsearch/instances.yml


Create the required certificates, private keys and the certificate authority (CA)

/usr/share/elasticsearch/bin/elasticsearch-certutil cert ca --pem --in instances.yml --out certs.zip


Extract the generated /usr/share/elasticsearch/certs.zip file

unzip /usr/share/elasticsearch/certs.zip -d /usr/share/elasticsearch/
Configure SSL in Elasticsearch


Create the directory /etc/elasticsearch/certs, then copy the certificate
authorities, the certificate and the key.

mkdir /etc/elasticsearch/certs/ca -p
cp /usr/share/elasticsearch/ca/ca.crt /etc/elasticsearch/certs/ca
cp /usr/share/elasticsearch/elasticsearch/elasticsearch.crt
/etc/elasticsearch/certs
cp /usr/share/elasticsearch/elasticsearch/elasticsearch.key
/etc/elasticsearch/certs
chown -R elasticsearch: /etc/elasticsearch/certs
chmod -R 770 /etc/elasticsearch/certs


Add the proper settings for both the transport and the HTTP layers in

/etc/elasticsearch/elasticsearch.yml.
nano /etc/elasticsearch/elasticsearch.yml
# Unbind to a specific IP:
network.host: 172.16.5.116
discovery.seed_hosts: ["172.30.0.20"]
